<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://metatoriworld.github.io/">
    <meta property="og:title" content="MetaToRI World | Dream Never Fades">
    <meta property="og:description" content="꿈은 잊고 있던 행복의 잔상입니다. 메타토리 월드에서 당신의 이야기를 시작하세요.">
    <meta property="og:image" content="https://raw.githubusercontent.com/metatoriworld/Logo/main/BlackLogo.png?v=1">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/metatoriworld/Logo/main/BlackLogo.png?v=1">

    <title>MetaToRI World | Dream Never Fades</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <style>
        :root {
            --bg: #ffffff;
            --text: #000000;
            --accent: #007aff;
            --dark-bg: #000000;
            --dark-text: #ffffff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Pretendard', sans-serif;
            overflow-x: hidden;
            word-break: keep-all;
            transition: background-color 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            -webkit-font-smoothing: antialiased;
        }

        /* 상단 스크롤 진행 바 */
        .progress-bar {
            position: fixed;
            top: 0; left: 0; width: 0%; height: 3px;
            background: var(--accent);
            z-index: 1001;
            transition: width 0.1s ease-out;
        }

        /* 하단 컨트롤 영역 */
        .bottom-controls {
            position: fixed;
            bottom: 40px;
            right: 40px;
            z-index: 1002;
            display: flex;
            align-items: center;
            gap: 10px;
            mix-blend-mode: difference;
        }

        .community-btn {
            text-decoration: none;
            color: white;
            background: rgba(255,255,255,0.1);
            padding: 12px 22px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
            white-space: nowrap;
        }
        .community-btn:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-3px);
        }

        .audio-control {
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255,255,255,0.1);
            padding: 12px 18px;
            border-radius: 50px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            transition: all 0.3s ease;
        }

        .audio-bars { display: flex; align-items: flex-end; gap: 3px; height: 18px; width: 15px; }
        .bar { width: 3px; background: white; height: 4px; border-radius: 1px; will-change: height; }

        .playing .bar:nth-child(1) { animation: wave-1 0.8s infinite ease-in-out; }
        .playing .bar:nth-child(2) { animation: wave-2 0.5s infinite ease-in-out; animation-delay: 0.2s; }
        .playing .bar:nth-child(3) { animation: wave-3 0.7s infinite ease-in-out; animation-delay: 0.1s; }

        @keyframes wave-1 { 0%, 100% { height: 6px; } 50% { height: 16px; } }
        @keyframes wave-2 { 0%, 100% { height: 4px; } 50% { height: 18px; } }
        @keyframes wave-3 { 0%, 100% { height: 8px; } 50% { height: 14px; } }

        .brand-nav { 
            position: fixed; top: 30px; left: 0; width: 100%; 
            display: flex; justify-content: center; align-items: center; gap: 12px;
            font-weight: 900; font-size: 0.85rem; letter-spacing: 0.4em; text-transform: uppercase; 
            z-index: 1000; mix-blend-mode: difference; color: #fff; pointer-events: none; 
        }
        .brand-nav img { height: 28px; width: auto; }

        .sticky-wrapper { position: sticky; top: 0; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        .intro-container { height: 180vh; }
        .intro-title { font-size: clamp(3rem, 15vw, 10rem); font-weight: 900; letter-spacing: -0.05em; text-align: center; line-height: 0.95; }
        
        section { width: 100%; min-height: 110vh; display: flex; flex-direction: column; justify-content: center; padding: 0 30px; position: relative; z-index: 10; }
        .reveal-text { font-size: clamp(1.8rem, 7vw, 3.5rem); font-weight: 800; line-height: 1.35; color: rgba(150, 150, 150, 0.15); transition: all 1s cubic-bezier(0.215, 0.61, 0.355, 1); max-width: 950px; margin: 0 auto; transform: translateY(40px); }
        .reveal-text.active { color: var(--text); transform: translateY(0); }
        .highlight { color: var(--accent); }
        
        .dark-section { background-color: var(--dark-bg); }
        .dark-section .reveal-text { color: rgba(255, 255, 255, 0.05); }
        .dark-section .reveal-text.active { color: var(--dark-text) !important; text-shadow: 0 0 30px rgba(255, 255, 255, 0.4); }
        
        .outro-container { height: 230vh; background: #fff; }
        .outro-logo { font-size: clamp(2.5rem, 10vw, 7rem); font-weight: 900; letter-spacing: -0.04em; text-align: center; }
        
        .cta-wrap { margin-top: 50px; opacity: 0; transform: translateY(20px); transition: all 1s ease 0.5s; }
        .active-btn .cta-wrap { opacity: 1; transform: translateY(0); }
        .btn { display: inline-block; padding: 14px 45px; border-radius: 50px; text-decoration: none; font-weight: 700; font-size: 0.95rem; letter-spacing: 0.1em; transition: all 0.3s ease; cursor: pointer; background: var(--text); color: var(--bg); border: 1px solid var(--text); }
        .btn:hover { background: transparent; color: var(--text); transform: scale(1.05); }
    </style>
</head>
<body>

    <div class="progress-bar" id="progressBar"></div>
    
    <div class="brand-nav">
        <img src="https://raw.githubusercontent.com/metatoriworld/Logo/main/WhiteLogo.png" alt="MTW Logo">
        <span>MetaToRI World</span>
    </div>

    <audio id="bgm" loop preload="auto">
        <source src="https://raw.githubusercontent.com/metatoriworld/backgroundmusic/main/BMTW1.mp3" type="audio/mpeg">
    </audio>

    <div class="bottom-controls">
        <a href="https://open.kakao.com/o/giDA6Wee" target="_blank" class="community-btn">커뮤니티 입장</a>
        <div class="audio-control" id="audioBtn">
            <div class="audio-bars">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
            <span id="audioText" style="font-size: 0.7rem; font-weight: 700; width: 75px; text-align: center;">SOUND OFF</span>
        </div>
    </div>

    <div class="intro-container">
        <div class="sticky-wrapper">
            <h1 class="intro-title" id="introTitle">DREAM<br>NEVER FADES</h1>
        </div>
    </div>

    <section><p class="reveal-text">“꿈은 내가 잊고 있던<br><span class="highlight">행복의 잔상이다.</span>”</p></section>
    <section><p class="reveal-text">사람들은 꿈을 이야기할 때<br>자연스럽게 자기 이야기를 하게 된다.</p></section>
    <section class="dark-section"><p class="reveal-text">메타토리 월드는 그 순간이<br>사라지지 않기를 바라는 진심에서<br>시작되었습니다.</p></section>
    <section class="dark-section"><p class="reveal-text">꿈은 내가 주인공이 되어<br>내 이야기를 할 수 있는 순간.</p></section>
    <section><p class="reveal-text" style="font-size: clamp(1.2rem, 4vw, 2.2rem);">말하지 않으면 사라지고,<br>기억하지 않으면 흐려지는<br>아주 개인적인 행복의 흔적.</p></section>

    <div class="outro-container" id="outroTrigger">
        <div class="sticky-wrapper" id="finalWrapper">
            <div style="text-align:center;">
                <h2 class="outro-logo" id="outroLogo">MetaToRI World</h2>
                <div class="cta-wrap">
                    <a href="https://metatoriworld.github.io/underconstruction/" target="_blank" class="btn">더 보기</a>
                    <p style="margin-top: 25px; font-size: 0.8rem; color: #888; letter-spacing: 0.2em;">BE THE MAIN CHARACTER</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const progressBar = document.getElementById('progressBar');
        const introTitle = document.getElementById('introTitle');
        const outroLogo = document.getElementById('outroLogo');
        const outroTrigger = document.getElementById('outroTrigger');
        const finalWrapper = document.getElementById('finalWrapper');
        const bgm = document.getElementById('bgm');
        const audioBtn = document.getElementById('audioBtn');
        const audioText = document.getElementById('audioText');

        // 음악 재생 시도 함수
        function tryPlayMusic() {
            bgm.play().then(() => {
                audioBtn.classList.add('playing');
                audioText.innerText = "SOUND ON";
            }).catch(err => {
                console.log("자동 재생이 차단되었습니다. 클릭이 필요합니다.");
            });
        }

        // 버튼 클릭 제어
        audioBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            if (bgm.paused) {
                tryPlayMusic();
            } else {
                bgm.pause();
                audioBtn.classList.remove('playing');
                audioText.innerText = "SOUND OFF";
            }
        });

        // 첫 클릭 시 오디오 활성화
        window.addEventListener('click', () => {
            if (bgm.paused && !audioBtn.classList.contains('playing')) {
                tryPlayMusic();
            }
        }, { once: true });

        // 터치 기기 대응
        window.addEventListener('touchstart', () => {
            if (bgm.paused && !audioBtn.classList.contains('playing')) {
                tryPlayMusic();
            }
        }, { once: true });

        // 스크롤 인터랙션
        window.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const winH = window.innerHeight;
            const fullH = document.body.scrollHeight - winH;
            progressBar.style.width = (scrollY / fullH * 100) + '%';

            const introLimit = winH * 0.8;
            if (scrollY <= introLimit) {
                const p = scrollY / introLimit;
                introTitle.style.transform = `scale(${1 + p * 6})`;
                introTitle.style.opacity = 1 - (p * 1.2);
            }

            const outroRect = outroTrigger.getBoundingClientRect();
            if (outroRect.top <= 0) {
                const totalMove = outroTrigger.offsetHeight - winH;
                const currentMove = Math.abs(outroRect.top);
                const p = Math.min(currentMove / totalMove, 1);
                const scale = 12 - (p * 11);
                outroLogo.style.transform = `scale(${scale})`;
                outroLogo.style.opacity = p;
                if (p > 0.9) finalWrapper.classList.add('active-btn');
                else finalWrapper.classList.remove('active-btn');
            }
        });

        // 텍스트 순차 노출
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('active');
                else entry.target.classList.remove('active');
            });
        }, { threshold: 0.4 });
        document.querySelectorAll('.reveal-text').forEach(el => observer.observe(el));
    </script>
</body>
</html>
